# üéØ –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞: –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ NPC
- **DefaultDialogueId** - –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤
- **GreetingDialogueId** - –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
- **Start** - ID —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —É–∑–ª–∞
- **Type: greeting** - –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —É–∑–ª–∞
- **Tags: default, main** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ–≥–∏

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
- **DialogueNodes.Offer** - —É–∑–µ–ª –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- **DialogueNodes.ReadyToComplete** - —É–∑–µ–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- **DialogueNodes.Completed** - —É–∑–µ–ª –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

## üè∑Ô∏è –¢–∏–ø—ã —É–∑–ª–æ–≤

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-----|----------|---------------|
| `greeting` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ | –°—Ç–∞—Ä—Ç–æ–≤—ã–π —É–∑–µ–ª |
| `shop` | –¢–æ—Ä–≥–æ–≤–ª—è | –ú–∞–≥–∞–∑–∏–Ω—ã |
| `service` | –£—Å–ª—É–≥–∏ | –†–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏ |
| `small_talk` | –ë–æ–ª—Ç–æ–≤–Ω—è | –û–±—ã—á–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã |
| `quest_offer` | –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞ | –ù–æ–≤—ã–µ –∫–≤–µ—Å—Ç—ã |
| `quest_progress` | –ö–≤–µ—Å—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ | –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã |
| `quest_complete` | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞ | –ì–æ—Ç–æ–≤—ã–µ –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é |
| `quest_completed` | –ö–≤–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω | –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è |
| `quests_menu` | –ú–µ–Ω—é –∫–≤–µ—Å—Ç–æ–≤ | –û–±—â–∏–π —Å–ø–∏—Å–æ–∫ |

## üè∑Ô∏è –¢–µ–≥–∏

| –¢–µ–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `default` | –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —É–∑–ª—ã |
| `main` | –û—Å–Ω–æ–≤–Ω—ã–µ —É–∑–ª—ã |
| `quest` | –ö–≤–µ—Å—Ç–æ–≤—ã–µ —É–∑–ª—ã |
| `service` | –°–µ—Ä–≤–∏—Å–Ω—ã–µ —É–∑–ª—ã |
| `casual` | –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ —É–∑–ª—ã |
| `shop` | –¢–æ—Ä–≥–æ–≤–ª—è |
| `menu` | –ú–µ–Ω—é |

## ‚öôÔ∏è –£—Å–ª–æ–≤–∏—è

| –£—Å–ª–æ–≤–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `hasAvailableQuests` | –ï—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–≤–µ—Å—Ç—ã |
| `hasActiveQuests` | –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã |
| `questAvailable:quest_id` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–≤–µ—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω |
| `questCompleted:quest_id` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–≤–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω |
| `hasItem:item_id` | –ï—Å—Ç—å –ø—Ä–µ–¥–º–µ—Ç |
| `level:min_level` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å |
| `flag:flag_name` | –§–ª–∞–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω |

## üéÆ –î–µ–π—Å—Ç–≤–∏—è

| –î–µ–π—Å—Ç–≤–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `StartQuest` | –ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç |
| `CompleteQuest` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç |
| `GiveItem` | –î–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç |
| `GiveGold` | –î–∞—Ç—å –∑–æ–ª–æ—Ç–æ |
| `SetFlag` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ |
| `StartTrade` | –ù–∞—á–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é |
| `EndDialogue` | –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–∏–∞–ª–æ–≥ |

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–æ—Å—Ç–æ–π —Ç–æ—Ä–≥–æ–≤–µ—Ü
```json
{
  "Id": "trader_default",
  "Start": "greeting",
  "Nodes": [
    {
      "Id": "greeting",
      "Text": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
      "Type": "greeting",
      "Tags": ["default"],
      "Choices": [
        {"Text": "–¢–æ—Ä–≥–æ–≤–ª—è", "NextNodeId": "shop"},
        {"Text": "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è", "NextNodeId": null}
      ]
    }
  ]
}
```

### –ö–≤–µ—Å—Ç–æ–≤—ã–π —É–∑–µ–ª
```json
{
  "Id": "quest_offer_1",
  "Text": "–£ –º–µ–Ω—è –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞ –¥–ª—è –≤–∞—Å!",
  "Type": "quest_offer",
  "Tags": ["quest", "offer"],
  "Choices": [
    {
      "Text": "–°–æ–≥–ª–∞—Å–µ–Ω!",
      "NextNodeId": "quest_accepted",
      "Actions": [
        {"Type": "StartQuest", "Parameter": "1"}
      ]
    }
  ]
}
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ Type** –¥–ª—è —É–∑–ª–æ–≤
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ ID** –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É—Å–ª–æ–≤–∏—è** –≤ –∏–≥—Ä–µ
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏** –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

## üîß –†–µ–¥–∞–∫—Ç–æ—Ä

### –í—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è:
- **Type** - —Ç–∏–ø—ã —É–∑–ª–æ–≤
- **Tags** - —Ç–µ–≥–∏ (—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–≤–æ–¥–∞)
- **Condition** - —É—Å–ª–æ–≤–∏—è (—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–≤–æ–¥–∞)
- **DefaultDialogueId** - –≤—ã–±–æ—Ä –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è NPC

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:
- **Ctrl+S** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- **Ctrl+O** - –æ—Ç–∫—Ä—ã—Ç—å
- **F5** - –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
